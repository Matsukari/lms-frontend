<mat-card class="card" appearance="outlined">
  <mat-card-header class="header">
    <div class="row">
      <div class="pictures">
        <img mat-card-avatar width="200px" height="200px" src="https://i.pravatar.cc/300" />
        <img mat-card-avatar src="https://i.pravatar.cc/300" />
      </div>
      <div class="labels">
        <div class="labels">
          <span>
            {{ post.group.name }}
          </span>
          <span>
            by
          </span>
          <span>
            {{ post.source.username }}
          </span>
          <span class="time">
            <span class="dot">
              ãƒ»
            </span>
            <span class="text">
              {{ post.updated_at | timeAgo }}
            </span>
          </span>
        </div>
        <div>
          {{ post.title }}
        </div>

      </div>

    </div>
    <span class="spacer"></span>
    <button mat-icon-button>
      <mat-icon>more_vert</mat-icon>
    </button>
  </mat-card-header>

  @if (post.cover_img) {
  <img mat-card-image [src]="post.cover_img" alt="Cover image" />
  }
  @else {
  }
  <mat-card-content>
    <p>
      {{post.desc}}
    </p>
    <div class="attachments">
      @for (item of post.attachments; track item) {
      @if (item) {
      <div class="app-row-center">
        <mat-icon>attachment</mat-icon>
        <div>{{item}}</div>
      </div>
      }
      @else {
      <div>No name</div>
      }
      }
    </div>
  </mat-card-content>
  <mat-divider/>
  <mat-card-actions class="actions row">
    <button mat-stroked-button [class.liked]="hasReaction()" (click)="react()"><mat-icon>thumb_up</mat-icon>
      <div>{{post.reacts.length}}</div>
    </button>
    <button mat-stroked-button routerLink="/post/{{post.id}}"><mat-icon>chat</mat-icon>
      <div>{{post.comments.length}}</div>
    </button>
    <button mat-stroked-button [class.liked]="isFavorited()" (click)="favorite()"><mat-icon>favorite</mat-icon>
      <div>Favorite</div>
    </button>
    <button mat-stroked-button><mat-icon>share</mat-icon>
      <div>Share</div>
    </button>
  </mat-card-actions>
</mat-card>
